proxy-providers:
  ProxySubscription:
    url: "订阅地址"
    type: http
    interval: 86400
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300
    
mixed-port: 7890
allow-lan: true
bind-address: '*'
mode: rule
log-level: info
external-controller: '127.0.0.1:9090'

geo-auto-update: false
geo-update-interval: 24
geodata-mode: false
geox-url:
  geoip: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat
  geosite: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat
  mmdb: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.metadb
  asn: https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb


dns:
  enable: true
  ipv6: true
  enhanced-mode: redir-host
  nameserver:
    - 202.102.128.68
    - 202.102.134.68
    - https://120.53.53.53/dns-query

  fallback:
    - https://dns.cloudflare.com/dns-query
    - https://dns.google/dns-query
    - https://223.5.5.5/dns-query

  fallback-filter:
    geoip: true
  proxy-server-nameserver:
    - https://120.53.53.53/dns-query
    - https://223.5.5.5/dns-query
  direct-nameserver:
    - 202.102.128.68
    - 202.102.134.68
  respect-rules: true
  use-hosts: false
  use-system-hosts: true

proxy-groups:

  - name: 🔰 节点选择
    type: select
    proxies: [DIRECT, 🚀 手动切换, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇸🇬 新加坡节点, 🇯🇵 日本节点, 🇺🇲 美国节点, 🇰🇷 韩国节点]
  - name: 🚀 手动切换
    type: select
    include-all: true
    proxies: [DIRECT]

  - name: 🪙 Crypto
    type: select
    proxies: [DIRECT, 🔰 节点选择, 🚀 手动切换, 🇸🇬 新加坡节点, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇺🇲 美国节点, 🇰🇷 韩国节点]

  - name: 🍀 Google
    type: select
    proxies: [DIRECT, 🔰 节点选择, 🚀 手动切换, 🇸🇬 新加坡节点, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇺🇲 美国节点, 🇰🇷 韩国节点]

  - name: 🤖 Copilot
    type: select
    proxies: [DIRECT, 🔰 节点选择, 🚀 手动切换, 🇸🇬 新加坡节点, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇺🇲 美国节点, 🇰🇷 韩国节点]

  - name: 💡 OpenAi
    type: select
    proxies: [DIRECT, 🔰 节点选择, 🚀 手动切换, 🇸🇬 新加坡节点, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇺🇲 美国节点, 🇰🇷 韩国节点]

  - name: 🪟 微软服务
    type: select
    proxies: [DIRECT, 🔰 节点选择, 🚀 手动切换, 🇸🇬 新加坡节点, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇺🇲 美国节点, 🇰🇷 韩国节点]

  - name: 🍎 苹果服务
    type: select
    proxies: [DIRECT, 🔰 节点选择, 🚀 手动切换, 🇸🇬 新加坡节点, 🇭🇰 香港节点, 🇨🇳 台湾节点, 🇯🇵 日本节点, 🇺🇲 美国节点, 🇰🇷 韩国节点]

  - name: 🎯 全球直连
    type: select
    proxies: [DIRECT, 🔰 节点选择, 🚀 手动切换]

  - name: 🔀 回退路由
    type: select
    proxies: [DIRECT, 🔰 节点选择, 🚀 手动切换]

  - name: 🇭🇰 香港节点
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(港|HK|hk|Hong Kong|HongKong|hongkong)"

  - name: 🇯🇵 日本节点
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(日本|川日|东京|大阪|泉日|埼玉|沪日|深日|JP|Japan)"

  - name: 🇺🇲 美国节点
    type: url-test
    include-all: true
    tolerance: 150
    interval: 300
    filter: "(美|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥|US|United States)"

  - name: 🇨🇳 台湾节点
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(台|新北|彰化|TW|Taiwan)"

  - name: 🇸🇬 新加坡节点
    type: select
    include-all: true
    tolerance: 50
    interval: 300
    filter: "^(?!.*(0\\.5倍率|0\\.5x|0\\.5倍|倍率0\\.5x)).*(新加坡|坡|狮城|SG|Singapore).*$"

  - name: 🇰🇷 韩国节点
    type: url-test
    include-all: true
    tolerance: 50
    interval: 300
    filter: "(KR|Korea|KOR|首尔|韩|韓)"



rule-providers:
#直连代理
  private_domain:
    type: http
    interval: 86400
    behavior: domain
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.list"
  private_ip:
    type: http
    interval: 86400
    behavior: ipcidr
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.list"
  cn_domain:
    type: http
    interval: 86400
    behavior: domain
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.list"
  cn_ip:
    type: http
    interval: 86400
    behavior: ipcidr
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.list"
#Google
  youtube_domain:
    type: http
    interval: 86400
    behavior: domain
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.list"
  google_domain:
    type: http
    interval: 86400
    behavior: domain
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.list"
  google_ip:
    type: http
    interval: 86400
    behavior: ipcidr
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.list"

#OpenAI
  openai_domain:
    type: http
    interval: 86400
    behavior: domain
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/openai.list"
#Copilot
  copilot_domain:
    type: http
    interval: 86400
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/nugent1a/Clash-Rules/refs/heads/main/Ruleset/Bing.list"
#Crypto
  crypto_domain:
    type: http
    interval: 86400
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/nugent1a/Clash-Rules/refs/heads/main/Ruleset/Crypto.list"
#yellow
  yellow_domain:
    type: http
    interval: 86400
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/nugent1a/Clash-Rules/refs/heads/main/Ruleset/yellow.list"
#network_detection
  network_detection:
    type: http
    interval: 86400
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/nugent1a/Clash-Rules/refs/heads/main/Ruleset/network_detection.list"
#private
  private:
    type: http
    interval: 86400
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/nugent1a/Clash-Rules/refs/heads/main/Ruleset/private.list"
#微软服务
  microsoft_domain:
    type: http
    interval: 86400
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list"
#苹果服务
  apple:
    type: http
    interval: 86400
    behavior: classical
    format: text
    url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Apple.list"
#节点选择
  github_domain:
    type: http
    interval: 86400
    behavior: domain
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.list"
  twitter_domain:
    type: http
    interval: 86400
    behavior: domain
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/twitter.list"
  twitter_ip:
    type: http
    interval: 86400
    behavior: ipcidr
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/twitter.list"
  telegram_domain:
    type: http
    interval: 86400
    behavior: domain
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.list"
  telegram_ip:
    type: http
    interval: 86400
    behavior: ipcidr
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.list"
  geolocation-!cn:
    type: http
    interval: 86400
    behavior: domain
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.list"
  gfw_domain:
    type: http
    interval: 86400
    behavior: domain
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.list"
  netflix_ip:
    type: http
    interval: 86400
    behavior: ipcidr
    format: text
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.list"

rules:

#OpenAI
  - RULE-SET,openai_domain,💡 OpenAi
#Copilot
  - RULE-SET,copilot_domain,🤖 Copilot
#Crypto
  - RULE-SET,crypto_domain,🪙 Crypto
#yellow
  - RULE-SET,yellow_domain,🚀 手动切换
#节点选择_高优先级
  - RULE-SET,network_detection,🔰 节点选择
  - RULE-SET,private,🔰 节点选择
#Google
  - RULE-SET,google_domain,🔰 节点选择
  - RULE-SET,google_ip,🍀 Google
  - RULE-SET,youtube_domain,🔰 节点选择
  - GEOIP,google,🍀 Google
#微软服务
  - RULE-SET,microsoft_domain,🪟 微软服务
#苹果服务
  - RULE-SET,apple,🍎 苹果服务
#节点选择
  - RULE-SET,github_domain,🔰 节点选择
  - RULE-SET,twitter_domain,🔰 节点选择
  - RULE-SET,twitter_ip,🔰 节点选择
  - RULE-SET,telegram_domain,🔰 节点选择
  - RULE-SET,telegram_ip,🔰 节点选择
  - RULE-SET,geolocation-!cn,🔰 节点选择
  - RULE-SET,gfw_domain,🔰 节点选择
  - GEOSITE,github,🔰 节点选择
  - GEOSITE,twitter,🔰 节点选择
  - GEOSITE,youtube,🔰 节点选择
  - GEOSITE,google,🔰 节点选择
  - GEOSITE,telegram,🔰 节点选择
  - GEOSITE,geolocation-!cn,🔰 节点选择
  - GEOIP,telegram,🔰 节点选择
  - GEOIP,twitter,🔰 节点选择
#直连
  - RULE-SET,private_domain,🎯 全球直连
  - RULE-SET,private_ip,🎯 全球直连,no-resolve
  - RULE-SET,cn_domain,🎯 全球直连
  - RULE-SET,cn_ip,🎯 全球直连
  - GEOSITE,CN,🎯 全球直连
  - GEOIP,CN,🎯 全球直连
  - GEOIP,lan,🎯 全球直连,no-resolve
  - MATCH,🔀 回退路由
